#!/usr/bin/env ruby

require 'rubygems'
require 'daemons'
require 'file_monitoring/file_monitoring.rb'

#pwd  = File.dirname(File.expand_path(__FILE__))
#Dir.chdir(pwd)

pwd = Dir.pwd

Daemons.run_proc(
  'file_monitoring', # name of daemon
#  :dir_mode => :normal
#  :dir => File.join(pwd, 'tmp/pids'), # directory where pid file will be stored
#  :backtrace => true,
#  :monitor => true,
#  :log_output => true
) do
#  Dir.chdir(pwd)
#  exec "ruby #{file}"
  monitor_files(pwd + '/' + ARGV[1])
end
